<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pesanan Berhasil - Sund Resto</title>
  <link rel="stylesheet" href="./css/berhasil-nolog.css" />
  <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
  <div class="container">
    <h1>Pesanan Anda Telah Dibuat!</h1>
    <p>Terima kasih telah memesan di Sund Resto.</p>
    <p>Silakan siapkan uang untuk pembayaran saat pesanan tiba.</p>

    <div class="order-info">
      <p><strong>Menu:</strong> <span id="nama-menu">-</span></p>
      <p><strong>Harga:</strong> Rp <span id="harga-menu">-</span></p>
      <p><strong>Kode Transaksi:</strong> <span id="kode-transaksi">-</span></p>
    </div>
    
    <div class="btnback"> 
      <button><a href="./dashboard-belum-login.html">Kembali ke Dashboard</a></button>
    </div>
    
    <p>Silahkan Login Terlebih dahulu demi keamanan akun anda</p>
    
    <div class="btnlack">
      <button><a href="landing-page.html">Login/Register</a></button>
    </div>

    <h2>Berikan Review & Rating Makanan</h2>

    <form id="review-form">
      <label for="rating">Rating:</label>
      <select id="rating" required>
        <option value="" disabled selected>Pilih rating</option>
        <option value="5">★★★★★ - Sangat Baik</option>
        <option value="4">★★★★ - Baik</option>
        <option value="3">★★★ - Cukup</option>
        <option value="2">★★ - Kurang</option>
        <option value="1">★ - Buruk</option>
      </select>

      <label for="review">Review (optional):</label>
      <textarea id="review" rows="4" placeholder="Tulis ulasan Anda di sini..."></textarea>

      <button type="submit">Kirim Review</button>
    </form>

    <div id="thankyou-message" style="display:none; margin-top: 15px; color: green;">
      Terima kasih atas review Anda!
    </div>
  </div>

  <footer class="footer">
    <div class="footer-contact">
      <div class="social-icons">
        <a href="https://wa.me/6285952464007" target="_blank" class="social-link" title="WhatsApp">
          <i data-feather="message-square" class="social-icon"></i>
        </a>
        <a href="tel:‪+62895810990222‬" class="social-link" title="Telepon">
          <i data-feather="phone" class="social-icon"></i>
        </a>
        <a href="mailto:sultandan216@gmail.com" class="social-link" title="Email">
          <i data-feather="mail" class="social-icon"></i>
        </a>
        <a href="https://www.tiktok.com/@handsomenerd_" target="_blank" class="social-link" title="TikTok">
          <i data-feather="music" class="social-icon"></i>
        </a>
        <a href="https://www.instagram.com/handsomenerd_" target="_blank" class="social-link" title="Instagram">
          <i data-feather="instagram" class="social-icon"></i>
        </a>
      </div>
      <div class="footer-map">
        <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d990.8531725639893!2d106.75400726950423!3d-6.595521667357961!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zNsKwMzUnNDMuOSJTIDEwNsKwNDUnMTYuNyJF!5e0!3m2!1sid!2sid!4v1747558320152!5m2!1sid!2sid" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
      <p class="copyright">© 2025 Sund-Resto – All rights reserved.</p>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      feather.replace();
      
      const nama = localStorage.getItem('namaMenu');
      const harga = localStorage.getItem('hargaMenu');

      document.getElementById('nama-menu').textContent = nama;
      document.getElementById('harga-menu').textContent = harga;

      function generateTransactionCode() {
        return Math.floor(Math.random() * (99999999 - 10000000) + 10000000);
      }

      const kodeTransaksi = generateTransactionCode();
      document.getElementById('kode-transaksi').textContent = kodeTransaksi;

      const form = document.getElementById('review-form');
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const rating = document.getElementById('rating').value;
        const review = document.getElementById('review').value;

        const reviews = JSON.parse(localStorage.getItem('sund_resto_reviews') || '[]');
        reviews.push({
          menu: nama,
          rating: rating,
          review: review,
          tanggal: new Date().toISOString()
        });
        localStorage.setItem('sund_resto_reviews', JSON.stringify(reviews));

        document.getElementById('thankyou-message').style.display = 'block';
        form.reset();
      });
    });
  </script>
</body>
</html>